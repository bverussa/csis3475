import java.io.File;

import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTextField;

public class Database
{

	private String dbName;
	
	public Database(int option)
	{
		// First check if user is Admin - create function
		
		String dbName;
		
		switch(option)
		{
			case 1: // Create DB
				dbName = getDBName("Create Database");
				if (dbName != null) createDB(dbName);
				break;
			case 2: // Delete DB
				dbName = getDBName("Delete Database");
				if (dbName != null) deleteDB(dbName);
				deleteDB(dbName);
				break;
			default:
				JOptionPane.showMessageDialog(null, "Please, enter a correct Database name");
		}
	}
	
	private String getDBName(String msg)
	{
		JTextField dbName = new JTextField();
		final JComponent[] input = new JComponent[] 
		{
			new JLabel("Database Name:"), dbName
		};
		int result = JOptionPane.showConfirmDialog(null, input, msg, JOptionPane.PLAIN_MESSAGE);
		
		if (result == JOptionPane.OK_OPTION)
		{
			return dbName.getText();
		}
		else
		{
			return null;
		}
	}
	
	private void createDB (String dbName)
	{
		File database = new File("/" + dbName);
		
		if (!database.exists())
		{
			boolean check = false;
			
			try
			{
				database.mkdirs();
				check = true;
			}
			catch(SecurityException e)
			{
				JOptionPane.showMessageDialog(null, e);
			}
			if (check)
			{
				JOptionPane.showMessageDialog(null, "Database " + dbName + " created!");
			}
		}
	}
	
	private void deleteDB(String dbName)
	{
		
	}
}
